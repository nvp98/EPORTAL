@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Organizational/Views/Shared/_Layout.cshtml";
}
@using SoDoToChuc.Models
@using EPORTAL.ModelsOrganizational 
@model IEnumerable<KPVSXValidation>
@{
    SoDoToChucEntities db_context = new SoDoToChucEntities();
}
@{
    var ID = (KPVSXValidation)ViewData["id"];
    var dataNS = ViewBag.DataNS;
    var dsnhom = db_context.NhomLVs.Where(x => x.IDPhongBan == ID.IDPhongBan);
    //var dsTPT = db_context.NhanVienPVSXes.Where(x => x.IDPhongBan == ID.IDPhongBan && x.CapBac == 3);
   
}
<div class=" genealogy-body genealogy-scroll col-sm-10 kpvsx" style="background-color: #ffffff; padding:20px;border-radius:10px;width:97%;min-height:1200px;padding-bottom:100px">
    <h3 style="display: table-cell;  color: #fff; background-color: #0097d0; padding: 10px 15px;" class="tenpb">
        @ID.TenPhongBan
    </h3>
    <div class="row tabI" style="">
        <div class="col-xl-3 col-md-3"><h4>Thông tin chung</h4></div>
        <div class="col-xl-3 col-md-3 ">
            <h4 style="color: #05418a;">@dataNS.nshc</h4>
            <h5>Nhân sự hành chính</h5>
        </div>
        <div class="col-xl-3 col-md-3 border_item" style="">
            <h4 style="color: #05418a;">@dataNS.ns1ca</h4>
            <h5>Nhân sự ca sản xuất</h5>
        </div>
        @*<div class="col-xl-2 col-md-2" style="border-left:solid 1px">
            <h4 style="color: #05418a;">@dataNS.tongtolv</h4>
            <h5>Tổng số tổ</h5>
        </div>*@
        <div class="col-xl-3 col-md-3 border_item" style="">
            <h4 style="color: #05418a;">@dataNS.TongNS</h4>
            <h5>Tổng số nhân sự</h5>
        </div>
    </div>


    <div class="row">

        

        <ul class="genealogy-tree" style="display: flex;">
            <div class="genealogy-tree tp" style="display:flex;justify-content:center;flex-direction:column" id="list_tp">

            </div>
            <ul class="active rowDetails" style="display:initial;margin:auto 0;">
                <ul class="dsTPT" id="list_nhom">

                <ul class="dsSing" style="margin:40px 0" id="groupSing">
                           
                </ul>
                    
                </ul>
            </ul>
    </div>
</div>
@*highchart nhân sự*@
<div class="row flex-row menuNS" style="padding-left:30px;flex-wrap:nowrap;margin-right:0px;margin-top:25px ">
    <div class="menuInfo col-2 row" style="border-radius: 5px; border: 1px solid #bcbcbc;background-color: white;padding:40px 0;margin-bottom:30px;margin-left:10px">
        <div class="list_level_wrap  col-xs-3"><span class="dot" style="background-color: #FB7800;"></span><div class="list_level" style="color: #05418A;">Trưởng/Phó Bộ Phận</div></div>
        <div class="list_level_wrap  col-xs-3"><span class="dot" style="background-color: #C70606; margin-top:10px"></span><div class="list_level" style="color: #05418A; width: 170px ">Quản Đốc/Phó Quản Đốc/Trưởng Phụ Trách</div></div>
        <div class="list_level_wrap  col-xs-3"><span class="dot" style="background-color: #05418A; "></span><div class="list_level" style="color: #05418A; ">Phụ Trách</div></div>
        <div class="list_level_wrap  col-xs-3"><span class="dot" style="background-color: #0097d0; "></span><div class="list_level" style="color: #05418A;">Trưởng/Phó Kíp</div></div>
        <div class="list_level_wrap  col-xs-3"><span class="dot" style="background-color: #002954 "></span><div class="list_level" style="color: #05418A ">Kỹ Thuật Viên</div></div>
        <div class="list_level_wrap  col-xs-3"><span class="dot" style="background-color: #506194"></span><div class="list_level" style="color: #05418A ">Tổ Trưởng/Tổ Phó</div></div>
        <div class="list_level_wrap  col-xs-3"><span class="dot" style="background-color: #008d06; margin-top: 10px "></span><div class="list_level" style="color: #05418A; width: 170px ">Nhân Viên Hành Chính</div></div>
        <div class="list_level_wrap  col-xs-3"><span class="dot" style="background-color: #001369; "></span><div class="list_level" style=" color: #05418A; ">Nhân Viên Ca/Kíp</div></div>

        @*<div class="list_level_wrap"><span class="dot" style="background-color: #001369; "></span><div class="list_level" style=" color: #05418A; ">Nhân Viên</div></div>*@
        @*<div class="list_level_wrap"><span class="dot" style="background-color: orange;"></span><div class="list_level" style=" color: #05418A; ">Phó Ban GPMB</div></div>*@
    </div>
    <div class="row col-9 menuRig" style=" " id="chartNV">
        <figure class="highcharts-figure-1">
            <div id="chart_total"></div>
            <p class="highcharts-description">
            </p>
        </figure>
    </div>
</div>

<script>
    //   $(function abc() {
    //   console.log('AA');
    //   // $(".genealogy-tree ul").hide();
    //   // $(".genealogy-tree>ul").show();
    //   // $(".genealogy-tree ul.active").show();
    //   // $(".genealogy-tree li").on("click", function (e) {
    //   //   var children = $(this).find("> ul");
    //   //   if (children.is(":visible"))
    //   //     children.hide("fast").removeClass("active");
    //   //   else children.show("fast").addClass("active");
    //   //   e.stopPropagation();
    //   // });
    // });

    $(document).ready(function () {

        // var modal =$('.modal');
        // var btn =$('.btn');
        // var cls =$('.close');
        // List Số lượng NV phòng ban
        $.getJSON("/KPVSX/GetNSTTPB",{ idpb: @ID.IDPhongBan }, function (data) {
            $.getJSON("/KPVSX/GetNSDBBP",{ idpb: @ID.IDPhongBan }, function (datadb) {
                Highcharts.chart('chart_total', {
                    chart: {
                        type: 'bar',
                        style: {
                            fontFamily: 'monospace',
                            color: "#f00"
                        },
                        /*plotBackgroundImage: '/content/assets/img/HOATIET.png'*/
                    },
                    title: {
                        text: ''
                    },
                    subtitle: {
                        text: ''
                    },
                    exporting: {
                        enabled: false
                    },
                    xAxis: {
                        categories: ['T/PBP', 'QĐ/PQĐ/TPT', 'Phụ trách', 'T/P Kíp', 'Kỹ thuật viên', 'Tổ Trưởng/Tổ Phó',  'NV Hành Chính','NV Ca/Kíp' ,],
                        title: {
                            text: null
                        },
                        labels: {
                            style: {
                                color: '#05418A',
                                font: '11px Trebuchet MS, Verdana, sans-serif',
                                fontWeight: 'bold'
                            }
                        }
                    },
                    yAxis: {
                        min: 0,
                        title: {
                            text: '',
                            align: 'high'
                        },
                        labels: {
                            overflow: 'justify',
                            style: {
                                color: '#05418A',
                                font: '11px Trebuchet MS, Verdana, sans-serif',
                                fontWeight: 'bold'
                            }
                        }
                    },
                    tooltip: {
                        valueSuffix: ''
                    },
                    plotOptions: {
                        bar: {
                            dataLabels: {
                                enabled: true
                            },
                            borderRadiusTopLeft: 10,
                            borderRadiusTopRight: 10

                        }
                    },
                    legend: {
                        layout: 'vertical',
                        align: 'right',
                        verticalAlign: 'top',
                        x: -40,
                        y: 80,

                        floating: true,
                        enabled: false,
                        borderWidth: 1,
                        backgroundColor:
                            Highcharts.defaultOptions.legend.backgroundColor || '#FFFFFF',
                        shadow: true
                    },
                    credits: {
                        enabled: false
                    },
                    series: [{
                        name: 'Định biên',
                        data: [{ y: datadb.TPTotal, color: '#FB7800', }, { y: datadb.QDTotal, color: '#C70606' }, { y: datadb.PTTotal, color: '#05418A' }, { y: datadb.TPKipTotal, color: '#0097D0' }, { y: datadb.KTVTotal, color: '#002954' }, { y: datadb.TTTPTotal, color: '#506194' }, { y: datadb.NVVPC, color: '#008D06' }, { y: datadb.NVTotal, color: '#001369' }, ]
                    },
                    {
                        name: 'Thực tế',
                        data: [{ y: data.TPTotal, color: '#FB7800', }, { y: data.QDTotal, color: '#C70606' }, { y: data.PTTotal, color: '#05418A' }, { y: data.TPKipTotal, color: '#0097D0' }, { y: data.KTVTotal, color: '#002954' }, { y: data.TTTPTotal, color: '#506194' }, { y: data.NVVPC, color: '#008D06' }, { y: data.NVTotal, color: '#001369' }, ]
                    }
                    ]
                });
            });
        });

        // List t/p
        $('#list_tp').empty();
        $.getJSON("/HomeSDTC/getDataBP", { idpb: @ID.IDPhongBan }, function (data) {

            //list tp
            for (var i = 0; i < data.listtp.length; i++) {
                var aa = data.listtp[i].ImagePath;
                var fileNameIndex='', filename='';
                if (aa != null) {
                    fileNameIndex = aa.lastIndexOf("/") + 1;
                    filename = aa.substr(fileNameIndex);
                }

                const a =`<div class="col boxI" style="min-width:170px; max-width:195px;max-height:250px;margin:20px">
                                <div style="border-radius: 5px;display:flex;min-height:180px" class="boxItem">
                                    <img src="/Images/${filename}" class="d-block w-100 m-auto" style="border-radius: 50%;height: 180px;width:180px" alt="" onerror="this.src='/Areas/Organizational/Content/assets/img/Avatar_def.png'" />
                                </div>
                                <h6 style="text-align: initial; color: #05418a;font-weight:bold;margin-left:10px;margin-bottom:0">${data.listtp[i].HoTen}</h6>
                                <p style="text-align: initial; color: #0097d0;margin-left:10px" >${data.listtp[i].TenViTri}</p>
                            </div>`
                $('#list_tp').append(a);
            }
            //list tpt
            for (var i = 0; i < data.listnhom.length; i++) {
                //var aa = data.listnhom.[i].ImagePath;
                //var fileNameIndex = '', filename = '';
                //if (aa != null) {
                //    fileNameIndex = aa.lastIndexOf("/") + 1;
                //    filename = aa.substr(fileNameIndex);
                //}
                // Có trưởng phụ trách
                if (data.listnhom[i].TPT != 0) {

                    var tpt = data.listnhom[i].listtpt[0];
                    var aa = tpt.ImagePath;
                    var fileNameIndex = '', filename = '';
                    if (aa != null) {
                        fileNameIndex = aa.lastIndexOf("/") + 1;
                        filename = aa.substr(fileNameIndex);
                    }
                    const a = `<li class="onBtn TPT" id=${data.listnhom[i].IDnhom} style="width:580px;z-index:2">
                                <a href="javascript:void(0);" class="iTem mainbox" style="margin-top: 10px; text-transform:initial;float:left;width:320px">
                                    <div class="member-view-box">
                                        <h3 style="text-align: left;" class="auto-break txt-over">  <b>${data.listnhom[i].TenNhom}</b> </h3>
                                        ${$.map(data.listnhom[i].listtpt, function (data, i) {
                                            var aa = data.ImagePath;
                                            var fileNameIndex = '', filename = '';
                                            if (aa != null) {
                                                fileNameIndex = aa.lastIndexOf("/") + 1;
                                                filename = aa.substr(fileNameIndex);
                                            }
                                            const a = `<div class="member-tag" style="margin-top:10px">
                                                                <div class="left-member">
                                                                     <div style="border-radius: 50%;width: 40px;height: 40px; margin: auto;background-color: darkgoldenrod;">
                                                                          <img src="/Images/${filename}" class="d-block w-100 m-auto" alt="" />
                                                                     </div>
                                                                </div>
                                                                <div class="right-member" style ="text-align:left">
                                                                     <h3>${data.HoTen}</h3>
                                                                     <p style="margin-bottom: 0;text-align:left;color: #0097d0;width: 200px;" class="txt-over">${data.TenViTri}</p>
                                                                 </div>
                                                             </div>`;
                                            return a;
                                        }).join('')}
                                    </div>
                                </a>
                            </li>`;
                    $('#list_nhom').append(a);
                    if (data.listnhom[i].listpt.length > 0) { //có phụ trách
                       
                            //var aa = data.listnhom[i].listpt[j].ImagePath;
                            //var fileNameIndex = '', filename = '';
                            //if (aa != null) {
                            //    fileNameIndex = aa.lastIndexOf("/") + 1;
                            //    filename = aa.substr(fileNameIndex);
                            //}
                            //var pt = data.listnhom[i].listpt[j];
                            
                            var idnpt = data.listnhom[i].IDnhom;
                            const b = `<li class="dsTNTT" style="margin-left:290px;min-height:85px;display:flex;padding-top:5px;padding-bottom:10px">
                                    <a href="javascript:void(0);" class=" mainbox onBtn" id="nlv_${idnpt}" style="width:300px">
                                        <div class="member-view-box ">
                                            <h3 style="text-align: left;" class="auto-break txt-over">  <b>${data.listnhom[i].TenNhom}</b> </h3>
                                             ${$.map(data.listnhom[i].listpt, function (data, i) {
                                                 var aa = data.ImagePath;
                                                 var fileNameIndex = '', filename = '';
                                                 if (aa != null) {
                                                     fileNameIndex = aa.lastIndexOf("/") + 1;
                                                     filename = aa.substr(fileNameIndex);
                                                 }
                                                 const a = `<div class="member-tag" style="margin-top:10px">
                                                                <div class="left-member">
                                                                     <div style="border-radius: 50%;width: 40px;height: 40px; margin: auto;background-color: darkgoldenrod;">
                                                                          <img src="/Images/${filename}" class="d-block w-100 m-auto" alt="" />
                                                                     </div>
                                                                </div>
                                                                <div class="right-member" style ="text-align:left">
                                                                     <h3>${data.HoTen}</h3>
                                                                     <p style="margin-bottom: 0;text-align:left;color: #0097d0;width: 200px;" class="txt-over">${data.TenViTri}</p>
                                                                 </div>
                                                             </div>`;
                                                 return a;
                                             }).join('')}
                                        </div>
                                    </a>
                                    <div id="details-item_nlv_${idnpt}" style="display: none;margin-left:20px;height:45px " class="taggroup">
                                        <ul style="float:right;padding-top:0;margin-top:-20px">
                                            <li style="padding: 0; display: grid; ">
                                                <div class=" mainbox details-item deta" style="float:left;">
                                                    <div style="margin-left:15px" class="auto-break txt-over">  <b>${data.listnhom[i].TenNhom}</b> </div>
                                                    <div style="" class="tag-name"> <i class="fas fa-users"></i> <b>Nhân sự(người): ${data.listnhom[i].tongns}</b> </div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px">Trưởng Phụ trách: ${data.listnhom[i].TPT} </div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px; display: ${data.listnhom[i].slpt == 0 && "none !important"}">Phụ trách: ${data.listnhom[i].slpt}</div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px; display: ${data.listnhom[i].sltpk == 0 && "none !important"} ">T/P Kíp:  ${data.listnhom[i].sltpk}</div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px; display: ${data.listnhom[i].slktv == 0 && "none !important"} ">KTV:  ${data.listnhom[i].slktv}</div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display: ${data.listnhom[i].slnv == 0 && "none !important"} ">Nhân Viên:  ${data.listnhom[i].slnv}</div>
                                                </div>

                                            </li>
                                        </ul>
                                    </div>
                                </li>
                                ${$.map(data.listnhom[i].listchitiet, function (data, i) {
                                    const a = ` <li class="${i == 0 ? "dsTNTTCon" : "dsnhomTCon"}" style="padding-top: 5px; padding-bottom: 10px; display: flex; min-height: 60px; margin-left: 620px;">
                                    <a href="javascript:void(0);" class="mainbox onBtn" style="float:right;width:300px" id="nhomsigcon_${i}">
                                        <div class="member-view-box ">
                                             <div class="member-details">
                                                <h3 style="margin-left:15px" class="auto-break txt-over">  <b>${data.TenNhom}</b> </h3>
                                                ${$.map(data.listpt, function (data1, j) {
                                                    var aa = data1.ImagePath;
                                                    var fileNameIndex = '', filename = '';
                                                    if (aa != null) {
                                                        fileNameIndex = aa.lastIndexOf("/") + 1;
                                                        filename = aa.substr(fileNameIndex);
                                                    }
                                                    const a = `<div class="member-tag" style="margin-top:10px">
                                                                <div class="left-member">
                                                                     <div style="border-radius: 50%;width: 40px;height: 40px; margin: auto;background-color: darkgoldenrod;">
                                                                          <img src="/Images/${filename}" class="d-block w-100 m-auto" alt="" />
                                                                     </div>
                                                                </div>
                                                                <div class="right-member" style ="text-align:left">
                                                                     <h3>${data1.HoTen}</h3>
                                                                     <p style="margin-bottom: 0;text-align:left;color: #0097d0;width: 200px;" class="txt-over">${data1.TenViTri}</p>
                                                                 </div>
                                                             </div>`;
                                                    return a;
                                                }).join('')}
                                            </div>

                                        </div>
                                    </a>

                                    <div id="details-item_nhomsigcon_${i}" style="display: none; float: right;margin-left:20px;height:45px " class="taggroup">
                                        <ul style="float:right;padding-top:0;margin-top:-20px">
                                            <li style="padding: 0; display: grid; ">
                                                <div class=" mainbox details-item deta" style="float:left;">
                                                    <h3 style="margin-left:15px" class="auto-break txt-over">  <b>${data.TenNhom}</b> </h3>
                                                    <div style="" class="tag-name"> <i class="fas fa-users"></i> <b>Nhân sự(người): ${data.tongns}</b> </div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display:${data.slpt == 0 && "none !important"}">Phụ trách: ${data.slpt}</div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display: ${data.slktv == 0 && "none !important"}">KTV:  ${data.slktv}</div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display: ${data.sltttp == 0 && "none !important"}">TT/TP:  ${data.sltttp}</div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display: ${data.slnv == 0 && "none !important"}">Nhân Viên:  ${data.slnv}</div>
                                                </div>

                                            </li>
                                        </ul>
                                    </div>
                                </li>`;
                                    return a;
                                }).join('')} 
                                ${$.map(data.listnhom[i].listto, function (data, i) {
                                    const a = ` <li class="${i == 0 ? "dsTNTTCon" : "dsnhomTCon"}" style="padding-top: 5px; padding-bottom: 10px; display: flex; min-height: 60px; margin-left: 620px;">
                                    <a href="javascript:void(0);" class="mainbox onBtn" style="float:right;width:300px" id="nhomsigcon2_${i}">
                                        <div class="member-view-box ">
                                             <div class="member-details">
                                                <h3 style="margin-left:15px" class="auto-break txt-over">  <b>Tổ ${data.TenNhom}</b> </h3>
                                            </div>

                                        </div>
                                    </a>

                                    <div id="details-item_nhomsigcon2_${i}" style="display: none; float: right;margin-left:20px;height:45px " class="taggroup">
                                        <ul style="float:right;padding-top:0;margin-top:-20px">
                                            <li style="padding: 0; display: grid; ">
                                                <div class=" mainbox details-item deta" style="float:left;">
                                                    <h3 style="margin-left:15px" class="auto-break txt-over">  <b>Tổ ${data.TenNhom}</b> </h3>
                                                    <div style="" class="tag-name"> <i class="fas fa-users"></i> <b>Nhân sự(người): ${data.tongns}</b> </div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display:${data.slpt == 0 && "none !important"}">Phụ trách: ${data.slpt}</div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display: ${data.slktv == 0 && "none !important"}">KTV:  ${data.slktv}</div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display: ${data.sltttp == 0 && "none !important"}">TT/TP:  ${data.sltttp}</div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display: ${data.slnv == 0 && "none !important"}">Nhân Viên:  ${data.slnv}</div>
                                                </div>

                                            </li>
                                        </ul>
                                    </div>
                                </li>`;
                                    return a;
                                }).join('')}
                                `;
                            $('#list_nhom').append(b);
                  
                    }
                    else { // Không có phụ trách
                        const b = `<li class="dsnhom" style="margin-left:290px;min-height:60px;display:flex;padding-top:5px;padding-bottom:10px;z-index:1">
                                    <a href="javascript:void(0);" class="iTem mainbox onBtn" id="nlv_${i}" style="width:300px">
                                        <div class="member-view-box ">
                                            <div class="member-details">
                                                <h3 style="margin-left:15px" class="auto-break txt-over">  <b>${data.listnhom[i].TenNhom}</b> </h3>
                                            </div>
                                        </div>
                                    </a>
                                    <div id="details-item_nlv_${i}" style="display: none;margin-left:20px;height:45px " class="taggroup">
                                        <ul style="float:right;padding-top:0;margin-top:-20px">
                                            <li style="padding: 0; display: grid; ">
                                                <div class=" mainbox details-item deta" style="float:left;">
                                                    <div style="margin-left:15px" class="auto-break txt-over">  <b>${data.listnhom[i].TenNhom}</b> </div>
                                                    <div style="" class="tag-name"> <i class="fas fa-users"></i> <b>Nhân sự(người): ${data.listnhom[i].tongns}</b> </div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px">Trưởng Phụ trách: ${data.listnhom[i].TPT} </div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px; display: ${data.listnhom[i].sltpk == 0 && "none !important"} ">T/P Kíp:  ${data.listnhom[i].sltpk}</div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px; display: ${data.listnhom[i].slktv == 0 && "none !important"}">KTV:  ${data.listnhom[i].slktv}</div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display: ${data.listnhom[i].slnv == 0 && "none !important"}">Nhân Viên:  ${data.listnhom[i].slnv}</div>
                                                </div>

                                            </li>
                                        </ul>
                                    </div>
                                </li>${$.map(data.listnhom[i].listchitiet, function (data, i) {
                                    const a = ` <li class="${i == 0 ? "dsTNTTCon" : "dsnhomTCon"}" style="padding-top: 5px; padding-bottom: 10px; display: flex; min-height: 60px; margin-left: 620px;">
                                    <a href="javascript:void(0);" class="mainbox onBtn" style="float:right;width:300px" id="nhomsigcon3_${i}">
                                        <div class="member-view-box ">
                                             <div class="member-details">
                                                <h3 style="margin-left:15px" class="auto-break txt-over">  <b>${data.TenNhom}</b> </h3>
                                                ${$.map(data.listpt, function (data1, j) {
                                                    var aa = data1.ImagePath;
                                                    var fileNameIndex = '', filename = '';
                                                    if (aa != null) {
                                                        fileNameIndex = aa.lastIndexOf("/") + 1;
                                                        filename = aa.substr(fileNameIndex);
                                                    }
                                                    const a = `<div class="member-tag" style="margin-top:10px">
                                                                <div class="left-member">
                                                                     <div style="border-radius: 50%;width: 40px;height: 40px; margin: auto;background-color: darkgoldenrod;">
                                                                          <img src="/Images/${filename}" class="d-block w-100 m-auto" alt="" />
                                                                     </div>
                                                                </div>
                                                                <div class="right-member" style ="text-align:left">
                                                                     <h3>${data1.HoTen}</h3>
                                                                     <p style="margin-bottom: 0;text-align:left;color: #0097d0;width: 200px;" class="txt-over">${data1.TenViTri}</p>
                                                                 </div>
                                                             </div>`;
                                                    return a;
                                                }).join('')}
                                            </div>

                                        </div>
                                    </a>

                                    <div id="details-item_nhomsigcon3_${i}" style="display: none; float: right;margin-left:20px;height:45px " class="taggroup">
                                        <ul style="float:right;padding-top:0;margin-top:-20px">
                                            <li style="padding: 0; display: grid; ">
                                                <div class=" mainbox details-item deta" style="float:left;">
                                                    <h3 style="margin-left:15px" class="auto-break txt-over">  <b>${data.TenNhom}</b> </h3>
                                                    <div style="" class="tag-name"> <i class="fas fa-users"></i> <b>Nhân sự(người): ${data.tongns}</b> </div>
                                                     <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display:${data.slpt == 0 && "none !important"}">Phụ trách: ${data.slpt}</div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display: ${data.slktv == 0 && "none !important"}">KTV:  ${data.slktv}</div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display: ${data.sltttp == 0 && "none !important"}">TT/TP:  ${data.sltttp}</div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display: ${data.slnv == 0 && "none !important"}">Nhân Viên:  ${data.slnv}</div>
                                                </div>

                                            </li>
                                        </ul>
                                    </div>
                                </li>`;
                                    return a;
                                }).join('')} 
                                ${$.map(data.listnhom[i].listto, function (data, i) {
                                    const a = ` <li class="${i == 0 ? "dsTNTTCon" : "dsnhomTCon"}" style="padding-top: 5px; padding-bottom: 10px; display: flex; min-height: 60px; margin-left: 620px;">
                                    <a href="javascript:void(0);" class="mainbox onBtn" style="float:right;width:300px" id="nhomsigcon4_${i}">
                                        <div class="member-view-box ">
                                             <div class="member-details">
                                                <h3 style="margin-left:15px" class="auto-break txt-over">  <b>Tổ ${data.TenNhom}</b> </h3>
                                            </div>

                                        </div>
                                    </a>

                                    <div id="details-item_nhomsigcon4_${i}" style="display: none; float: right;margin-left:20px;height:45px " class="taggroup">
                                        <ul style="float:right;padding-top:0;margin-top:-20px">
                                            <li style="padding: 0; display: grid; ">
                                                <div class=" mainbox details-item deta" style="float:left;">
                                                    <h3 style="margin-left:15px" class="auto-break txt-over">  <b>Tổ ${data.TenNhom}</b> </h3>
                                                    <div style="" class="tag-name"> <i class="fas fa-users"></i> <b>Nhân sự(người): ${data.tongns}</b> </div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display:${data.slpt == 0 && "none !important"}">Phụ trách: ${data.slpt}</div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display: ${data.slktv == 0 && "none !important"}">KTV:  ${data.slktv}</div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display: ${data.sltttp == 0 && "none !important"}">TT/TP:  ${data.sltttp}</div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display: ${data.slnv == 0 && "none !important"}">Nhân Viên:  ${data.slnv}</div>
                                                </div>

                                            </li>
                                        </ul>
                                    </div>
                                </li>`;
                                    return a;
                                }).join('')}
                                `;
                        $('#list_nhom').append(b);
                    }


                }
                else if (data.listnhom[i].listpt.length > 0) { // không có TPT, có Phụ trách

                   
                        //var aa = data.listnhom[i].listpt[j].ImagePath;
                        //var fileNameIndex = '', filename = '';
                        //if (aa != null) {
                        //    fileNameIndex = aa.lastIndexOf("/") + 1;
                        //    filename = aa.substr(fileNameIndex);
                        //}
                        //var pt = data.listnhom[i].listpt[j];
                        var idn = data.listnhom[i].IDnhom;
                        const a = ` <li class="dsnhom" style="padding-top: 5px; padding-bottom: 10px; display: flex; min-height: 85px; margin-left: 290px;z-index:1">
                                    <a href="javascript:void(0);" class=" mainbox onBtn" style="float:right;width:300px" id="nsig_${idn}">
                                        <div class="member-view-box ">
                                              <h3 style="text-align: left;" class="auto-break txt-over">  <b>${data.listnhom[i].TenNhom}</b> </h3>
                                              ${$.map(data.listnhom[i].listpt, function (data, i) {
                                                  var aa = data.ImagePath;
                                                  var fileNameIndex = '', filename = '';
                                                  if (aa != null) {
                                                      fileNameIndex = aa.lastIndexOf("/") + 1;
                                                      filename = aa.substr(fileNameIndex);
                                                  }
                                                  const a = `<div class="member-tag" style="margin-top:10px">
                                                                <div class="left-member">
                                                                     <div style="border-radius: 50%;width: 40px;height: 40px; margin: auto;background-color: darkgoldenrod;">
                                                                          <img src="/Images/${filename}" class="d-block w-100 m-auto" alt="" />
                                                                     </div>
                                                                </div>
                                                                <div class="right-member" style ="text-align:left">
                                                                     <h3>${data.HoTen}</h3>
                                                                     <p style="margin-bottom: 0;text-align:left;color: #0097d0;width: 200px;" class="txt-over">${data.TenViTri}</p>
                                                                 </div>
                                                             </div>`;
                                                  return a;
                                              }).join('')}
                                            
                                        </div>
                                    </a>

                                    <div id="details-item_nsig_${idn}" style="display: none; float: right;margin-left:20px;height:45px " class="taggroup">
                                        <ul style="float:right;padding-top:0;margin-top:-20px">
                                            <li style="padding: 0; display: grid; ">
                                                <div class=" mainbox details-item deta" style="float:left;">
                                                    <div style="margin-left:15px" class="auto-break txt-over">  <b>${data.listnhom[i].TenNhom}</b> </div>
                                                    <div style="" class="tag-name"> <i class="fas fa-users"></i> <b>Nhân sự(người): ${data.listnhom[i].tongns}</b> </div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px">Phụ trách: ${data.listnhom[i].slpt}</div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px; display: ${data.listnhom[i].sltpk == 0 && "none !important"} ">T/P Kíp:  ${data.listnhom[i].sltpk}</div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display: ${data.listnhom[i].slktv == 0 && "none !important"}">KTV:  ${data.listnhom[i].slktv}</div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display: ${data.listnhom[i].slnv == 0 && "none !important"}">Nhân Viên:  ${data.listnhom[i].slnv}</div>
                                                </div>

                                            </li>
                                        </ul>
                                    </div>
                                </li>
                                 ${$.map(data.listnhom[i].listchitiet, function (data, i) {
                                     const a = ` <li class="${i == 0 ? "dsTNTTCon" : "dsnhomTCon"}" style="padding-top: 5px; padding-bottom: 10px; display: flex; min-height: 60px; margin-left: 620px;">
                                    <a href="javascript:void(0);" class="mainbox onBtn" style="float:right;width:300px" id="nhomsigcon1_${i}_${idn}">
                                        <div class="member-view-box ">
                                             <div class="member-details">
                                                <h3 style="margin-left:15px" class="auto-break txt-over">  <b>${data.TenNhom}</b> </h3>
                                                ${$.map(data.listpt, function (data1, j) {
                                                    var aa = data1.ImagePath;
                                                    var fileNameIndex = '', filename = '';
                                                    if (aa != null) {
                                                        fileNameIndex = aa.lastIndexOf("/") + 1;
                                                        filename = aa.substr(fileNameIndex);
                                                    }
                                                    const a = `<div class="member-tag" style="margin-top:10px">
                                                                <div class="left-member">
                                                                     <div style="border-radius: 50%;width: 40px;height: 40px; margin: auto;background-color: darkgoldenrod;">
                                                                          <img src="/Images/${filename}" class="d-block w-100 m-auto" alt="" />
                                                                     </div>
                                                                </div>
                                                                <div class="right-member" style ="text-align:left">
                                                                     <h3>${data1.HoTen}</h3>
                                                                     <p style="margin-bottom: 0;text-align:left;color: #0097d0;width: 200px;" class="txt-over">${data1.TenViTri}</p>
                                                                 </div>
                                                             </div>`;
                                                    return a;
                                                }).join('')}
                                            </div>

                                        </div>
                                    </a>

                                    <div id="details-item_nhomsigcon1_${i}_${idn}" style="display: none; float: right;margin-left:20px;height:45px " class="taggroup">
                                        <ul style="float:right;padding-top:0;margin-top:-20px">
                                            <li style="padding: 0; display: grid; ">
                                                <div class=" mainbox details-item deta" style="float:left;">
                                                    <h3 style="margin-left:15px" class="auto-break txt-over">  <b>${data.TenNhom}</b> </h3>
                                                    <div style="" class="tag-name"> <i class="fas fa-users"></i> <b>Nhân sự(người): ${data.tongns}</b> </div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display:${data.slpt == 0 && "none !important"}">Phụ trách: ${data.slpt}</div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display: ${data.slktv == 0 && "none !important"}">KTV:  ${data.slktv}</div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display: ${data.sltttp == 0 && "none !important"}">TT/TP:  ${data.sltttp}</div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display: ${data.slnv == 0 && "none !important"}">Nhân Viên:  ${data.slnv}</div>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>
                                </li>`;
                                     return a;
                                 }).join('')}
                                ${$.map(data.listnhom[i].listto, function (data, i) {
                                    const a = ` <li class="${i == 0 ? "dsTNTTCon" : "dsnhomTCon"}" style="padding-top: 5px; padding-bottom: 10px; display: flex; min-height: 60px; margin-left: 620px;">
                                    <a href="javascript:void(0);" class="mainbox onBtn" style="float:right;width:300px" id="nhomsigconT_${i}_${idn}">
                                        <div class="member-view-box ">
                                             <div class="member-details">
                                                <h3 style="margin-left:15px" class="auto-break txt-over">  <b>Tổ ${data.TenNhom}</b> </h3>
                                            </div>

                                        </div>
                                    </a>

                                    <div id="details-item_nhomsigconT_${i}_${idn}" style="display: none; float: right;margin-left:20px;height:45px " class="taggroup">
                                        <ul style="float:right;padding-top:0;margin-top:-20px">
                                            <li style="padding: 0; display: grid; ">
                                                <div class=" mainbox details-item deta" style="float:left;">
                                                    <h3 style="margin-left:15px" class="auto-break txt-over">  <b> Tổ ${data.TenNhom}</b> </h3>
                                                    <div style="" class="tag-name"> <i class="fas fa-users"></i> <b>Nhân sự(người): ${data.tongns}</b> </div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display:${data.slpt == 0 && "none !important"}">Phụ trách: ${data.slpt}</div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display: ${data.slktv == 0 && "none !important"}">KTV:  ${data.slktv}</div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display: ${data.sltttp == 0 && "none !important"}">TT/TP:  ${data.sltttp}</div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display: ${data.slnv == 0 && "none !important"}">Nhân Viên:  ${data.slnv}</div>
                                                </div>

                                            </li>
                                        </ul>
                                    </div>
                                </li>`;
                                    return a;
                                }).join('')}
                                
                                `;
                        $("#groupSing").append(a);

               

                }
                else { // Không có TPT, không có PT
                    var pt = data.listnhom[i];
                    const a = ` <li class="dsnhom" style="padding-top: 5px; padding-bottom: 10px; display: flex; min-height: 60px; margin-left: 290px;z-index:1">
                                    <a href="javascript:void(0);" class="mainbox onBtn" style="float:right;width:300px" id="nhomsig_${i}">
                                        <div class="member-view-box ">
                                             <div class="member-details">
                                                <h3 style="" class="auto-break txt-over">  <b>${data.listnhom[i].TenNhom}</b> </h3>
                                            </div>

                                        </div>
                                    </a>

                                    <div id="details-item_nhomsig_${i}" style="display: none; float: right;margin-left:20px;height:45px " class="taggroup">
                                        <ul style="float:right;padding-top:0;margin-top:-20px">
                                            <li style="padding: 0; display: grid; ">
                                                <div class=" mainbox details-item deta" style="float:left;">
                                                    <h3 style="margin-left:15px" class="auto-break txt-over">  <b>${data.listnhom[i].TenNhom}</b> </h3>
                                                    <div style="" class="tag-name"> <i class="fas fa-users"></i> <b>Nhân sự(người): ${data.listnhom[i].tongns}</b> </div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px; display: ${data.listnhom[i].sltpk == 0 && "none !important"} ">T/P Kíp:  ${data.listnhom[i].sltpk}</div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display: ${data.listnhom[i].slktv == 0 && "none !important"}">KTV:  ${data.listnhom[i].slktv}</div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display: ${data.listnhom[i].slnv == 0 && "none !important"}">Nhân Viên:  ${data.listnhom[i].slnv}</div>
                                                </div>

                                            </li>
                                        </ul>
                                    </div>
                                </li>${$.map(data.listnhom[i].listchitiet, function (data, i) {
                                    const a = ` <li class="${i == 0 ? "dsTNTTCon" : "dsnhomTCon"}" style="padding-top: 5px; padding-bottom: 10px; display: flex; min-height: 60px; margin-left: 620px;">
                                    <a href="javascript:void(0);" class="mainbox onBtn" style="float:right;width:300px" id="nhomsigcon5_${i}">
                                        <div class="member-view-box ">
                                             <div class="member-details">
                                                <h3 style="" class="auto-break txt-over">  <b>${data.TenNhom}</b> </h3>
                                                ${$.map(data.listpt, function (data1, j) {
                                                    var aa = data1.ImagePath;
                                                    var fileNameIndex = '', filename = '';
                                                    if (aa != null) {
                                                        fileNameIndex = aa.lastIndexOf("/") + 1;
                                                        filename = aa.substr(fileNameIndex);
                                                    }
                                                    const a = `<div class="member-tag" style="margin-top:10px">
                                                                <div class="left-member">
                                                                     <div style="border-radius: 50%;width: 40px;height: 40px; margin: auto;background-color: darkgoldenrod;">
                                                                          <img src="/Images/${filename}" class="d-block w-100 m-auto" alt="" />
                                                                     </div>
                                                                </div>
                                                                <div class="right-member" style ="text-align:left">
                                                                     <h3>${data1.HoTen}</h3>
                                                                     <p style="margin-bottom: 0;text-align:left;color: #0097d0;width: 200px;" class="txt-over">${data1.TenViTri}</p>
                                                                 </div>
                                                             </div>`;
                                                    return a;
                                                }).join('')}
                                            </div>

                                        </div>
                                    </a>

                                    <div id="details-item_nhomsigcon5_${i}" style="display: none; float: right;margin-left:20px;height:45px " class="taggroup">
                                        <ul style="float:right;padding-top:0;margin-top:-20px">
                                            <li style="padding: 0; display: grid; ">
                                                <div class=" mainbox details-item deta" style="float:left;">
                                                    <h3 style="margin-left:15px" class="auto-break txt-over">  <b>${data.TenNhom}</b> </h3>
                                                    <div style="" class="tag-name"> <i class="fas fa-users"></i> <b>Nhân sự(người): ${data.tongns}</b> </div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display:${data.slpt == 0 && "none !important"}">Phụ trách: ${data.slpt}</div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display: ${data.slktv == 0 && "none !important"}">KTV:  ${data.slktv}</div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display: ${data.sltttp == 0 && "none !important"}">TT/TP:  ${data.sltttp}</div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display: ${data.slnv == 0 && "none !important"}">Nhân Viên:  ${data.slnv}</div>
                                                </div>

                                            </li>
                                        </ul>
                                    </div>
                                </li>`;
                                    return a;
                                }).join('')} 
                                ${$.map(data.listnhom[i].listto, function (data, i) {
                                    const a = ` <li class="${i == 0 ? "dsTNTTCon" : "dsnhomTCon"}" style="padding-top: 5px; padding-bottom: 10px; display: flex; min-height: 60px; margin-left: 620px;">
                                    <a href="javascript:void(0);" class="mainbox onBtn" style="float:right;width:300px" id="nhomsigcon6_${i}">
                                        <div class="member-view-box ">
                                             <div class="member-details">
                                                <h3 style="" class="auto-break txt-over">  <b>Tổ ${data.TenNhom}</b> </h3>
                                            </div>

                                        </div>
                                    </a>

                                    <div id="details-item_nhomsigcon6_${i}" style="display: none; float: right;margin-left:20px;height:45px " class="taggroup">
                                        <ul style="float:right;padding-top:0;margin-top:-20px">
                                            <li style="padding: 0; display: grid; ">
                                                <div class=" mainbox details-item deta" style="float:left;">
                                                    <h3 style="margin-left:15px" class="auto-break txt-over">  <b>Tổ ${data.TenNhom}</b> </h3>
                                                    <div style="" class="tag-name"> <i class="fas fa-users"></i> <b>Nhân sự(người): ${data.tongns}</b> </div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display:${data.slpt == 0 && "none !important"}">Phụ trách: ${data.slpt}</div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display: ${data.slktv == 0 && "none !important"}">KTV:  ${data.slktv}</div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display: ${data.sltttp == 0 && "none !important"}">TT/TP:  ${data.sltttp}</div>
                                                    <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display: ${data.slnv == 0 && "none !important"}">Nhân Viên:  ${data.slnv}</div>
                                                </div>

                                            </li>
                                        </ul>
                                    </div>
                                </li>`;
                                    return a;
                                }).join('')}
                                `;
                    $("#groupSing").append(a);
                }

            }
            //list phân xưởng
            for (var i = 0; i < data.listpx.length; i++) {
                /*for (var j = 0; j < data.listpx[i].)*/

                const a = `<li class="ListPX"  style="width:640px">
                                 <a href="javascript:void(0);" class="iTem mainbox onBtn" style="margin-top: 10px; text-transform:initial;float:left" id='px_${i}'>
                                    <div class="member-view-box">
                                        <div class="member-details  ">
                                            <h3 style="margin-bottom: 0;text-align:left;">PHÂN XƯỞNG</h3>
                                            <h3 style="text-align: left; margin-left: 5px; color: #0097d0">
                                               ${data.listpx[i].TenPhanXuong}
                                            </h3>

                                        </div>
                                    </div>
                                </a>
                                <div id="details-item_px_${i}" style="display: none; float: right;margin-left:20px;margin-top:10px; " class="taggroup">
                                    <ul style="float:right;padding-top:0;margin-top:-20px">
                                        <li style="padding: 0;display: grid" id ="listqd">
                                             ${$.map(data.listpx[i].listqd, function (data, i) {
                                                 var aa = data.ImagePath;
                                                 var fileNameIndex = '', filename = '';
                                                 if (aa != null) {
                                                     fileNameIndex = aa.lastIndexOf("/") + 1;
                                                     filename = aa.substr(fileNameIndex);
                                                 }
                                                 const a = `<a href="javascript:void(0);" class=" mainbox" style="padding: 5px;margin-top:5px; float:left;width:320px">
                                                        <div class="member-view-box">
                                                            <div class="member-tag">
                                                                <div class="left-member">
                                                                    <div style="border-radius: 50%;width: 40px;height: 40px; margin: auto;background-color: darkgoldenrod;">
                                                                        <img src="/Images/${filename}" class="d-block w-100 m-auto" alt="" />
                                                                    </div>
                                                                </div>
                                                                <div class="right-member" style ="text-align:left">
                                                                    <h3>${data.HoTen}</h3>
                                                                    <p style="margin-bottom: 0;text-align:left;color: #0097d0;width: 200px;" class="txt-over">${data.TenViTri}</p>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </a>`;
                                                 return a;
                                             }).join('')}
                                
                                             <div class=" mainbox details-item deta" style="float:left;width:320px">
                                                        <div style="" class="tag-name"> <i class="fas fa-users"></i> <b>Nhân sự(người): <span>${data.listpx[i].tongns}</span></b> </div>
                                                        <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display: ${data.listpx[i].slqd == 0 && "none !important"}"> Quản đốc:${data.listpx[i].slqd} </div>
                                                        <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display: ${data.listpx[i].slpt == 0 && "none !important"}">Phụ trách:${data.listpx[i].slpt} </div>
                                                        <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display: ${data.listpx[i].sltpk == 0 && "none !important"}">T/P Kíp:${data.listpx[i].sltpk} </div>
                                                        <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display: ${data.listpx[i].slktv == 0 && "none !important"}">KTV:  ${data.listpx[i].slktv}</div>
                                                        <div class="tag-left-pt d-flex flex-row" style="padding-left:20px;display: ${data.listpx[i].slnv == 0 && "none !important"}">Nhân Viên:  ${data.listpx[i].slnv}</div>
                                              </div>
                                        </li>
                                    </ul>
                                </div>
                            </li>`;
                $('#list_nhom').append(a);
            }
        });

        //$(".onBtn").click(function () { //don't use es6
        //    //$('.modalgroup').hide(1000);

        //    //$("#details-item_" + $(this).attr('id')).css("display") == "none" ? ($("#details-item_" + $(this).attr('id')).show(1000), $("#details-item_" + $(this).attr('id')).css({ display: "table-caption" })) : $("#details-item_" + $(this).attr('id')).hide(1000)
        //    var a = $("#details-item_" + $(this).attr('id')).css("display");
        //    $('.taggroup').hide(1000);
        //    if (a == "none") {
        //        $("#details-item_" + $(this).attr('id')).show(1000); $("#details-item_" + $(this).attr('id')).css({ display: "table-caption" })
        //        /*$(this).addClass("tag-temp")*/
        //    } else {
        //        $("#details-item_" + $(this).attr('id')).hide(1000)
        //        /* $(this).removeClass("tag-temp")*/
        //    }


        //});
        $(document).on("click", ".onBtn", function () {
            var a = $("#details-item_" + $(this).attr('id')).css("display");
            $('.taggroup').hide(1000);
            if (a == "none") {
                $("#details-item_" + $(this).attr('id')).show(1000); $("#details-item_" + $(this).attr('id')).css({ display: "table-caption" })
                /*$(this).addClass("tag-temp")*/
            } else {
                $("#details-item_" + $(this).attr('id')).hide(1000)
                /* $(this).removeClass("tag-temp")*/
            }
        });
        //$('.btn').click(function () {
        //    var x = $(this).offset();
        //    $('.modal-content').css({ position: "absolute", top: x.top - $(window).scrollTop(), left: Number($(this).attr('id')) % 2 == 0 ? x.left + 50 : x.left - 320 })

        //    $('#modal_' + $(this).attr('id')).show(1000);
        //})
        // $('.close').click(() => {
        //     $('.modal').hide();
        // })
        // $(window).on('click', function (e) {
        //     if ($(e.target).is('.modal')) {
        //         $('.modal').hide();
        //     }
        // });

        $("#sidebarToggle").on('click', function (e) {
            var display = $("#menuColap").css("display");
            if (display != "none") {
                $("#menuColap").hide();

            }
            else $("#menuColap").show()
            // $("body").toggleClass("sidebar-toggled");
            // $(".sidebar").toggleClass("toggled");
            // if ($(".sidebar").hasClass("toggled")) {
            //    $('.sidebar .collapse').collapse('hide');
            // };
        });

    })
</script>