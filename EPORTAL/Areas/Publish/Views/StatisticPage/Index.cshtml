
@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Publish/Views/Shared/_Layout.cshtml";
}

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Thống kê</title>
    <link rel="shortcut icon" href="./images/LogoHPDQ.ico">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,400;0,500;0,600;0,700;0,800;0,900;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,400;0,500;0,700;0,900;1,400;1,500;1,700;1,900&display=swap"
          rel="stylesheet">

    <link rel="stylesheet" href="~/Areas/Publish/Layout/css/plugins/bootstrap.min.css">
    <link rel="stylesheet" href="~/Areas/Publish/Layout/css/reset.css" />
    <link rel="stylesheet" href="~/Areas/Publish/Layout/css/style_dashboard.css" />
    <link rel="stylesheet" href="~/Areas/Publish/Layout/css/responsive.css" />
    <title>Thống kê</title>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    <script src="https://code.highcharts.com/modules/accessibility.js"></script>
</head>

<body>
    <div class="app-main__outer">
        <div class="app-main__inner">
            <div class="main_wrap">
                <div class="d_content dashboard_group">
                    <div class="dashboard_content d-flex justify-content-between align-items-center">
                        <div class="group_item d-flex justify-content-between align-items-center w-30">
                            <img src="~/Layout/images/dashboard/SiteQLKH.svg" alt="" />
                            <div class="d-flex flex-column justify-content-center">
                                <span class="group_text text-center">Đối tác</span>
                                <span class="group_number text-center">160</span>
                            </div>
                        </div>
                        <div class="group_item d-flex justify-content-between align-items-center w-30">
                            <img src="~/Layout/images/dashboard/card.svg" alt="" />
                            <div class="d-flex flex-column justify-content-center">
                                <span class="group_text text-center">Nhà cung cấp</span>
                                <span class="group_number text-center">200</span>
                            </div>
                        </div>
                        <div class="group_item d-flex justify-content-between align-items-center w-30">
                            <img src="~/Layout/images/dashboard/shop.svg" alt="" />
                            <div class="d-flex flex-column justify-content-center">
                                <span class="group_text text-center">Khách hàng</span>
                                <span class="group_number text-center">500</span>
                            </div>
                        </div>
                    </div>
                </div>


                <!-- region -->
                <div class="d_content d_content_section dashboard_region">
                    <h1 class="group_title">Phân bố theo địa lý</h1>
                    <div class="region_content d-flex justify-content-between align-items-center">
                        <div class="group_item d-flex justify-content-between flex-column w-30">
                            <h1>Đối tác</h1>
                            <div class="chart_region_content">

                                <div id="container" style="min-width:350px; height: 250px; max-width:400px; margin:0 auto"></div>

                                <script>
                                    $(document).ready(function () {
                                        $.getJSON("/StatisticPage/GetData", function (data) {
                                            Highcharts.chart('container', {
                                                chart: {
                                                    plotBackgroundColor: null,
                                                    plotBorderWidth: null,
                                                    plotShadow: false,
                                                    type: 'pie'
                                                },


                                                accessibility: {
                                                    point: {
                                                        valueSuffix: '%'
                                                    }
                                                },
                                                plotOptions: {
                                                    pie: {
                                                        allowPointSelect: true,
                                                        cursor: 'pointer',
                                                        dataLabels: {
                                                            enabled: true,
                                                            format: '<b>{point.name}</b>: {point.percentage:.1f} %'
                                                        }
                                                    }
                                                },
                                                series: [{
                                                    name: 'Brands',
                                                    colorByPoint: true,
                                                    data: [{
                                                        name: 'Miền Bắc',
                                                        y: data.Northern
                                                    }, {
                                                        name: 'Miền Trung',
                                                        y: data.Central
                                                    }, {
                                                        name: 'Miền Nam',
                                                        y: data.South
                                                    }, {
                                                        name: 'Other',
                                                        y: data.Orther
                                                    }]
                                                }]
                                            });
                                        });
                                    });

                                </script>
                                <div class="pie_chart_icon d-flex justify-content-center align-items-center">
                                    <img src="~/Areas/Publish/Layout/images/dashboard/SiteQLKH_sliver.svg" alt="" />
                                </div>
                            </div>
                        </div>
                        <div class="group_item d-flex justify-content-between flex-column w-30">
                            <h1>Nhà cung cấp</h1>
                            <div class="chart_region_content">

                                <div id="container1" style="min-width:350px; height: 250px; max-width:400px; margin:0 auto"></div>

                                <script>
                                    $(document).ready(function () {
                                        $.getJSON("Publish/StatisticPage/GetData", function (data) {
                                            Highcharts.chart('container1', {
                                                chart: {
                                                    plotBackgroundColor: null,
                                                    plotBorderWidth: null,
                                                    plotShadow: false,
                                                    type: 'pie'
                                                },


                                                accessibility: {
                                                    point: {
                                                        valueSuffix: '%'
                                                    }
                                                },
                                                plotOptions: {
                                                    pie: {
                                                        allowPointSelect: true,
                                                        cursor: 'pointer',
                                                        dataLabels: {
                                                            enabled: true,
                                                            format: '<b>{point.name}</b>: {point.percentage:.1f} %'
                                                        }
                                                    }
                                                },
                                                series: [{
                                                    name: 'Brands',
                                                    colorByPoint: true,
                                                    data: [{
                                                        name: 'Miền Bắc',
                                                        y: data.Northern
                                                    }, {
                                                        name: 'Miền Trung',
                                                        y: data.Central
                                                    }, {
                                                        name: 'Miền Nam',
                                                        y: data.South
                                                    }, {
                                                        name: 'Other',
                                                        y: data.Orther
                                                    }]
                                                }]
                                            });
                                        });
                                    });

                                </script>
                                <div class="pie_chart_icon d-flex justify-content-center align-items-center">
                                    <img src="~/Areas/Publish/Layout/images/dashboard/card_sliver.svg" alt="" />
                                </div>
                            </div>
                        </div>
                        <div class="group_item d-flex justify-content-between flex-column w-30">
                            <h1>Khách hàng</h1>
                            <div class="chart_region_content d-flex flex-column">

                                <div id="container2" style="min-width:350px; height: 250px; max-width:400px; margin:0 auto"></div>

                                <script>
                                    $(document).ready(function () {
                                        $.getJSON("Publish/StatisticPage/GetData", function (data) {
                                            Highcharts.chart('container2', {
                                                chart: {
                                                    plotBackgroundColor: null,
                                                    plotBorderWidth: null,
                                                    plotShadow: false,
                                                    type: 'pie'
                                                },


                                                accessibility: {
                                                    point: {
                                                        valueSuffix: '%'
                                                    }
                                                },
                                                plotOptions: {
                                                    pie: {
                                                        allowPointSelect: true,
                                                        cursor: 'pointer',
                                                        dataLabels: {
                                                            enabled: true,
                                                            format: '<b>{point.name}</b>: {point.percentage:.1f} %'
                                                        }
                                                    }
                                                },
                                                series: [{
                                                    name: 'Brands',
                                                    colorByPoint: true,
                                                    data: [{
                                                        name: 'Miền Bắc',
                                                        y: data.Northern
                                                    }, {
                                                        name: 'Miền Trung',
                                                        y: data.Central
                                                    }, {
                                                        name: 'Miền Nam',
                                                        y: data.South
                                                    }, {
                                                        name: 'Other',
                                                        y: data.Orther
                                                    }]
                                                }]
                                            });
                                        });
                                    });

                                </script>
                                <div class="pie_chart_icon d-flex justify-content-center align-items-center">
                                    <img src="~/Areas/Publish/Layout/images/dashboard/shop_sliver.svg" alt="" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="d_content d_content_section dashboard_category">
                    <h1 class="group_title">Thống kê theo lĩnh vực</h1>
                    <div class="category_content d-flex justify-content-end align-items-end flex-row-reverse">
                        <div class="chart_category_content">
                            <canvas id="chart_category" class="chart_category">
                            </canvas>
                        </div>

                        <div id="bar_category_legend" class="bar_category_legend">

                        </div>
                    </div>
                </div>

                <!-- complain -->
                <div class="d_content d_content_section dashboard_complaint">
                    <h1 class="group_title">Thống kê khiếu nại</h1>
                    <div class="complaint_content d-flex justify-content-between align-items-center">
                        <div class="group_item d-flex justify-content-between flex-column w-30">
                            <h1>Đối tác</h1>
                            <div class="chart_complaint_content">
                                <canvas id="chart_complain_1" class="chart_complain"></canvas>
                                <div id="complain_1" class="chart_complain_legend"></div>
                                <div class="pie_chart_icon d-flex justify-content-center align-items-center">
                                    <img src="~/Areas/Publish/Layout/images/dashboard/SiteQLKH_sliver.svg" alt="" />
                                </div>
                            </div>
                        </div>
                        <div class="group_item d-flex justify-content-between flex-column w-30">
                            <h1>Nhà cung cấp</h1>
                            <div class="chart_complaint_content">
                                <canvas id="chart_complain_2" class="chart_complain"></canvas>
                                <div id="complain_2" class="chart_complain_legend"></div>
                                <div class="pie_chart_icon d-flex justify-content-center align-items-center">
                                    <img src="~/Areas/Publish/Layout/images/dashboard/card_sliver.svg" alt="" />
                                </div>
                            </div>
                        </div>
                        <div class="group_item d-flex justify-content-between flex-column w-30">
                            <h1>Khách hàng</h1>
                            <div class="chart_complaint_content">
                                <canvas id="chart_complain_3" class="chart_complain"></canvas>
                                <div id="complain_3" class="chart_complain_legend"></div>
                                <div class="pie_chart_icon d-flex justify-content-center align-items-center">
                                    <img src="~/Areas/Publish/Layout/images/dashboard/shop_sliver.svg" alt="" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <script src="~/Areas/Publish/Layout/js/plugins/jquery.min.js"></script>
    <script src="~/Areas/Publish/Layout/js/plugins/bootstrap.bundle.min.js" type="text/javascript"></script>
    <script src="~/Areas/Publish/Layout/js/plugins/chart.min.js" type="text/javascript"></script>
    <script src="~/Areas/Publish/Layout/js/plugins/chartjs-plugin-datalabels.js"></script>
    <script src="~/Areas/Publish/Layout/js/chartdata.js" type="text/javascript"></script>
    <script>
        window.onload = function () {
            changelogo();
        };

        window.onresize = function () {
            changelogo();
        }

        function changelogo() {
            var w = window.screen.width;
            if (w < 1200 && w >= 992) {
                document.getElementById('logo').src = "./images/LogoHPDQ-small.png";
                document.getElementById('logo').setAttribute('width', '50px');
            }
            else {
                document.getElementById('logo').src = "./images/LogoHPDQ.svg";
                document.getElementById('logo').setAttribute('width', 'unset');
            }
        }
    </script>

    @*<div class="jumbotron">
            <div id="container" style="margin-left: 100px ;min-width:500px; height: 400px; max-width:600px; margin:0 auto"></div>
        </div>
        <script>
            $(document).ready(function () {
                $.getJSON("/StatisticPage/GetData", function (data) {
                    Highcharts.chart('container', {
                        chart: {
                            plotBackgroundColor: null,
                            plotBorderWidth: null,
                            plotShadow: false,
                            type: 'pie'
                        },
                        title: {
                            text: 'Browser market shares in May, 2020'
                        },
                        tooltip: {
                            pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                        },
                        accessibility: {
                            point: {
                                valueSuffix: '%'
                            }
                        },
                        plotOptions: {
                            pie: {
                                allowPointSelect: true,
                                cursor: 'pointer',
                                dataLabels: {
                                    enabled: true,
                                    format: '<b>{point.name}</b>: {point.percentage:.1f} %'
                                }
                            }
                        },
                        series: [{
                            name: 'Brands',
                            colorByPoint: true,
                            data: [{
                                name: 'Miền Bắc',
                                y: data.Northern
                            }, {
                                name: 'Miền Trung',
                                y: data.Central
                            }, {
                                name: 'Miền Nam',
                                y: data.South
                            }, {
                                name: 'Other',
                                y: data.Orther
                            }]
                        }]
                    });
                });
            });


        </script>*@

</body>
<style>
    .dashboard_region .chart_region_content {
        width: 100%
    }
</style>


